// ===============================
// createUiDefinition.json - Portal UI Definition for SecurityAlert-Only Deployment
// ===============================
{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/uiDefinition.json#",
  "handler": "Microsoft.Resources.CreateUiDefinition",
  "version": "1.0.0",
  "parameters": {
    "basics": [
      {
        "name": "workspaceName",
        "type": "Microsoft.Common.TextBox",
        "label": "Log Analytics Workspace Name",
        "toolTip": "Enter the name of your existing Log Analytics workspace."
      },
      {
        "name": "workspaceResourceGroup",
        "type": "Microsoft.Common.ResourceGroupPicker",
        "label": "Resource Group",
        "toolTip": "Select the resource group that contains the Log Analytics workspace."
      }
    ],
    "steps": [
      {
        "name": "selectLogs",
        "label": "Select Security Alert Log Sources",
        "elements": [
          {
            "name": "logSources",
            "type": "Microsoft.Common.CheckBoxGroup",
            "label": "Choose which Security Alert sources to deploy",
            "toolTip": "Select Microsoft Sentinel Content Hub security alert solutions to deploy.",
            "constraints": {
              "required": true,
              "minLength": 1
            },
            "options": {
              "items": [
                { "label": "Entra ID Protection Alerts", "value": "EntraRiskAlerts" },
                { "label": "Defender for Endpoint (MDATP)", "value": "DefenderEndpoint" },
                { "label": "Defender for Identity (AATP)", "value": "DefenderIdentity" },
                { "label": "Defender for Cloud Apps (MCAS)", "value": "DefenderCloudApps" },
                { "label": "Defender for Cloud", "value": "DefenderCloud" },
                { "label": "Defender for IoT", "value": "DefenderIoT" },
                { "label": "Defender XDR - Alerts", "value": "DefenderXDRAlerts" },
                { "label": "Defender XDR - Incidents", "value": "DefenderXDRIncidents" }
              ]
            }
          }
        ]
      }
    ],
    "outputs": {
      "workspaceName": "[parameters('workspaceName')]",
      "workspaceResourceGroup": "[parameters('workspaceResourceGroup')]",
      "logSources": "[steps('selectLogs').logSources]"
    }
  }
}
